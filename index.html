<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GBP-PRO-AUDIT - Google Business Profil Analyse</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>GBP-PRO-AUDIT</h1>
      <p>Die professionelle Analyse deines Google Business Profils</p>
      <div class="free-badge">Kostenlos</div>
    </header>

    <main>
      <!-- 1. FRAGEN-BEREICH -->
      <section id="audit-section" class="audit-container">
        <h2>GBP-PRO-AUDIT Test</h2>
        <p class="audit-description">Beantworte die folgenden 7 Fragen, um die Qualität deines Google Business Profils zu bewerten.</p>
        
        <div id="question-container">
          <!-- Frage 1 -->
          <div class="question" id="question-1">
            <h3>Frage 1: Ist dein Google Business Profil vollständig ausgefüllt?</h3>
            <p>Alle relevanten Informationen wie Adresse, Telefonnummer, Öffnungszeiten, Fotos, etc. sollten eingetragen sein.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
          
          <!-- Frage 2 -->
          <div class="question" id="question-2" style="display: none;">
            <h3>Frage 2: Hast du regelmäßig neue Rezensionen (mindestens 1 pro Monat)?</h3>
            <p>Aktuelle Bewertungen sind ein wichtiger Ranking-Faktor für Google.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
          
          <!-- Frage 3 -->
          <div class="question" id="question-3" style="display: none;">
            <h3>Frage 3: Beantwortest du alle Bewertungen zeitnah (innerhalb von 24 Stunden)?</h3>
            <p>Das Reagieren auf Bewertungen zeigt Google und potenziellen Kunden, dass du aktiv bist.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
          
          <!-- Frage 4 -->
          <div class="question" id="question-4" style="display: none;">
            <h3>Frage 4: Veröffentlichst du regelmäßig Google Posts (mind. 2 pro Monat)?</h3>
            <p>Regelmäßige Posts halten dein Profil aktiv und informieren potenzielle Kunden.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
          
          <!-- Frage 5 -->
          <div class="question" id="question-5" style="display: none;">
            <h3>Frage 5: Hast du mehr als 10 hochwertige Fotos in deinem Profil?</h3>
            <p>Bilder von deinem Geschäft, Team, Produkten oder Dienstleistungen erhöhen die Aufmerksamkeit.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
          
          <!-- Frage 6 -->
          <div class="question" id="question-6" style="display: none;">
            <h3>Frage 6: Ist dein Unternehmen in den richtigen Kategorien gelistet?</h3>
            <p>Die Hauptkategorie und alle relevanten Nebenkategorien sollten ausgewählt sein.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
          
          <!-- Frage 7 -->
          <div class="question" id="question-7" style="display: none;">
            <h3>Frage 7: Überwachst du regelmäßig die Insights/Statistiken deines GBP?</h3>
            <p>Die Analyse der Performance-Daten hilft dir, deine Strategie zu optimieren.</p>
            <div class="options">
              <button type="button" class="option-btn" data-value="yes" onclick="answerQuestion('yes')">Ja</button>
              <button type="button" class="option-btn" data-value="no" onclick="answerQuestion('no')">Nein</button>
            </div>
          </div>
        </div>
        
        <!-- Fortschrittsanzeige -->
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress" id="progress-bar" style="width: 14%;"></div>
          </div>
          <div class="progress-text">
            <span id="current-question">1</span> von <span id="total-questions">7</span> Fragen
          </div>
        </div>
      </section>

      <!-- 2. FORMULAR-BEREICH (anfangs versteckt) -->
      <section id="form-section" class="form-container" style="display: none;">
        <h2>Fast geschafft!</h2>
        <p class="form-description">Um deine ausführliche GBP-Analyse und personalisierte Empfehlungen zu erhalten, benötigen wir noch einige Informationen von dir:</p>
        
        <form name="gbp-audit" method="POST" data-netlify="true" action="/success" netlify-honeypot="bot-field">
          <!-- Netlify-spezifische Felder -->
          <input type="hidden" name="form-name" value="gbp-audit" />
          <p class="hidden">
            <label>Bot-Feld (nicht ausfüllen): <input name="bot-field" /></label>
          </p>
          
          <!-- Versteckte Felder für Audit-Ergebnisse -->
          <input type="hidden" id="audit-score" name="audit-score" value="">
          <input type="hidden" id="audit-results" name="audit-results" value="">
          
          <!-- Alle Felder sind Pflichtfelder -->
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" placeholder="Dein vollständiger Name" required>
          </div>
          
          <div class="form-group">
            <label for="email">E-Mail:</label>
            <input type="email" id="email" name="email" placeholder="deine@email.de" required>
          </div>
          
          <div class="form-group">
            <label for="phone">Telefon:</label>
            <input type="tel" id="phone" name="phone" placeholder="Deine Telefonnummer" required>
          </div>
          
          <div class="form-group">
            <label for="company">Firma:</label>
            <input type="text" id="company" name="company" placeholder="Deine Firma" required>
          </div>
          
          <div class="form-group">
            <label for="website">Website:</label>
            <input type="url" id="website" name="website" value="https://" placeholder="https://deine-website.de" required>
          </div>
          
          <div class="form-group">
            <label for="gbp-url">Google Business Profil URL:</label>
            <input type="url" id="gbp-url" name="gbp-url" placeholder="https://g.page/deine-firma" required>
            <p class="field-hint">Die URL findest du auf deinem Google Business Profil unter dem "Teilen"-Button</p>
          </div>
          
          <!-- Newsletter und Datenschutz -->
          <div class="form-check">
            <input type="checkbox" id="newsletter" name="newsletter">
            <label for="newsletter">Ja, ich möchte den Newsletter abonnieren und über Updates informiert werden.</label>
          </div>
          
          <div class="form-check">
            <input type="checkbox" id="privacy" name="privacy" required>
            <label for="privacy">Ich habe die <a href="datenschutz.html" target="_blank">Datenschutzerklärung</a> gelesen und stimme zu.</label>
          </div>
          
          <!-- Absende-Button -->
          <div class="form-submit">
            <button type="submit" class="btn btn-primary">Ergebnisse erhalten</button>
          </div>
        </form>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 PrintMedia Grafik + Druck e.K.. Alle Rechte vorbehalten.</p>
    </footer>
  </div>

  <!-- Script-Bereich -->
  <script>
    // Globale Variablen
    let currentQuestion = 1;
    const totalQuestions = 7; // Auf 7 Fragen reduziert
    const answers = [];

    // Funktion wird aufgerufen, wenn der Benutzer auf eine Antwortoption klickt
    function answerQuestion(answer) {
      // Speichere die Antwort für die aktuelle Frage
      answers[currentQuestion - 1] = answer;
      
      // Überprüfe, ob alle Fragen beantwortet wurden
      if (currentQuestion < totalQuestions) {
        // Verstecke aktuelle Frage
        document.getElementById('question-' + currentQuestion).style.display = 'none';
        
        // Erhöhe den Fragenzähler
        currentQuestion++;
        
        // Zeige nächste Frage
        document.getElementById('question-' + currentQuestion).style.display = 'block';
        
        // Aktualisiere den Fortschrittsbalken
        updateProgress();
      } else {
        // Alle Fragen wurden beantwortet - zeige das Formular
        showForm();
      }
    }

    // Aktualisiert den Fortschrittsbalken
    function updateProgress() {
      // Aktualisiere den Fortschrittszähler
      document.getElementById('current-question').textContent = currentQuestion;
      
      // Berechne den Fortschritt in Prozent
      const progressPercent = (currentQuestion / totalQuestions) * 100;
      
      // Aktualisiere die Breite des Fortschrittsbalkens
      document.getElementById('progress-bar').style.width = progressPercent + '%';
    }

    // Zeigt das Formular an und bereitet die Daten vor
    function showForm() {
      // Berechne den Score basierend auf "Ja"-Antworten
      const yesAnswers = answers.filter(answer => answer === 'yes').length;
      const scorePercentage = Math.round((yesAnswers / totalQuestions) * 100);
      
      // Verstecke den Fragebereich
      document.getElementById('audit-section').style.display = 'none';
      
      // Zeige das Formular
      document.getElementById('form-section').style.display = 'block';
      
      // Scrolle zum Formular
      document.getElementById('form-section').scrollIntoView({ behavior: 'smooth' });
      
      // Speichere die Ergebnisse für das Formular
      saveResults(scorePercentage);
    }

    // Speichert die Ergebnisse für das Formular
    function saveResults(scorePercentage) {
      // Liste der Fragen
      const questions = [
        "Ist dein Google Business Profil vollständig ausgefüllt?",
        "Hast du regelmäßig neue Rezensionen (mindestens 1 pro Monat)?",
        "Beantwortest du alle Bewertungen zeitnah (innerhalb von 24 Stunden)?",
        "Veröffentlichst du regelmäßig Google Posts (mind. 2 pro Monat)?",
        "Hast du mehr als 10 hochwertige Fotos in deinem Profil?",
        "Ist dein Unternehmen in den richtigen Kategorien gelistet?",
        "Überwachst du regelmäßig die Insights/Statistiken deines GBP?"
      ];
      
      // Erstelle die Ergebnisse für jede Frage
      const results = [];
      for (let i = 0; i < totalQuestions; i++) {
        results.push({
          question: questions[i],
          passed: answers[i] === 'yes',
          explanation: answers[i] === 'yes' ? 
            "Super! Du machst das richtig." : 
            "Hier besteht Optimierungsbedarf."
        });
      }
      
      // Speichere den Score im versteckten Formularfeld
      if (document.getElementById('audit-score')) {
        document.getElementById('audit-score').value = scorePercentage;
      }
      
      // Speichere die detaillierten Ergebnisse im versteckten Formularfeld
      if (document.getElementById('audit-results')) {
        document.getElementById('audit-results').value = encodeURIComponent(JSON.stringify(results));
      }
      
      // Speichere die Ergebnisse im lokalen Speicher für die spätere Verwendung
      const auditData = {
        'audit-score': scorePercentage,
        'audit-results': encodeURIComponent(JSON.stringify(results))
      };
      localStorage.setItem('gbp-audit-data', JSON.stringify(auditData));
    }

    // Initialisiere die Seite, wenn das Dokument geladen ist
    document.addEventListener('DOMContentLoaded', function() {
      // Überprüfe, ob wir uns auf der Hauptseite befinden
      if (document.getElementById('audit-section')) {
        // Setze die erste Frage und den Fortschrittsbalken
        currentQuestion = 1;
        updateProgress();
      }
      
      // Formular-Event-Listener
      const form = document.querySelector('form[name="gbp-audit"]');
      if (form) {
        form.addEventListener('submit', function(event) {
          // Prüfen, ob der Datenschutz akzeptiert wurde
          const privacyCheckbox = document.getElementById('privacy');
          if (!privacyCheckbox || !privacyCheckbox.checked) {
            event.preventDefault();
            alert('Bitte akzeptiere die Datenschutzerklärung, um fortzufahren.');
            return;
          }
          
          console.log('Formular wird abgesendet...');
        });
      }
    });
  </script>
</body>
</html>
:
